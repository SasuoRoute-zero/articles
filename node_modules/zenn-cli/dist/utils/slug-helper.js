"use strict";
var __importDefault = (this && this.__importDefault) || function (mod) {
    return (mod && mod.__esModule) ? mod : { "default": mod };
};
Object.defineProperty(exports, "__esModule", { value: true });
exports.getChapterSlugErrorMessage = exports.validateChapterSlug = exports.getSlugErrorMessage = exports.validateSlug = exports.generateSlug = void 0;
var escape_html_1 = __importDefault(require("escape-html"));
var cryptoRandomString = require('crypto-random-string');
exports.generateSlug = function () {
    return cryptoRandomString({ length: 20, type: 'hex' });
};
exports.validateSlug = function (slug) {
    return !!(slug && slug.match(/^[0-9a-z\-_]{12,50}$/));
};
exports.getSlugErrorMessage = function (slug) {
    return "slug\u306E\u5024\uFF08" + escape_html_1.default(slug) + "\uFF09\u304C\u4E0D\u6B63\u3067\u3059\u3002\u5C0F\u6587\u5B57\u306E\u534A\u89D2\u82F1\u6570\u5B57\uFF08a-z0-9\uFF09\u3068\u30CF\u30A4\u30D5\u30F3\uFF08-\uFF09\u306E12\u301C50\u5B57\u306E\u7D44\u307F\u5408\u308F\u305B\u306B\u3057\u3066\u304F\u3060\u3055\u3044";
};
exports.validateChapterSlug = function (slug) {
    if (!slug)
        return false;
    // n.slug.mdも許容
    return !!(slug.match(/^[0-9a-z\-_]{1,50}$/) ||
        slug.match(/^[0-9]+.[0-9a-z\-_]{1,50}$/));
};
exports.getChapterSlugErrorMessage = function (slug) {
    return "\u30C1\u30E3\u30D7\u30BF\u30FC\u306Eslug\u306E\u5024\uFF08" + escape_html_1.default(slug) + "\uFF09\u304C\u4E0D\u6B63\u3067\u3059\u3002\u5C0F\u6587\u5B57\u306E\u534A\u89D2\u82F1\u6570\u5B57\uFF08a-z0-9\uFF09\u3068\u30CF\u30A4\u30D5\u30F3\uFF08-\uFF09\u306E1\u301C50\u5B57\u306E\u7D44\u307F\u5408\u308F\u305B\u306B\u3057\u3066\u304F\u3060\u3055\u3044";
};
